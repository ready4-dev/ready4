---
title: "Use A Simple And Consistent Syntax In Computational Models Of Mental Health Systems"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Use A Simple And Consistent Syntax In Computational Models Of Mental Health Systems}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r results='hide', message=FALSE}
library("ready4") 
```
```{r echo=F}
# get_fn_descs <- function(fn_nms_chr = NULL,
#                          functions_tb = NULL,
#                          gh_repo_1L_chr = "ready4-dev/ready4",
#                          gh_tag_1L_chr = "Documentation_0.0",
#                          return_1L_chr = "all"){
#   if(is.null(functions_tb))
#     functions_tb <- get_functions_tb(gh_repo_1L_chr = gh_repo_1L_chr,
#                              gh_tag_1L_chr = gh_tag_1L_chr,
#                              return_1L_chr = return_1L_chr)
#   if(is.null(fn_nms_chr)){
#         fn_descs_chr <- functions_tb$fn_type_desc_chr
#   }else{
#       fn_descs_chr <- purrr::map_chr(fn_nms_chr,
#                                  ~get_from_lup_obj(functions_tb,
#                                                    match_value_xx = .x,
#                                                    match_var_nm_1L_chr = "fn_type_nm_chr",               
#                                                    target_var_nm_1L_chr = "fn_type_desc_chr"))
#   }
#   return(fn_descs_chr)
# }
# NEED TO DEPRECATE GET_MTHD_TITLE IN READY4FUN

```

## Motivation
Transparency is one of the underpinning principles of open science. One way to improve the transparency of computational models of mental health systems is to ensure that the programs implementing these models can be meaningfully inspected by readers with different levels of technical expertise. Even non-technical readers should be able to follow the high-level logic implemented by model algorithms. Consistent use of simple programming syntax in the main program implementing an analysis can help ensure that readers need to contend with relatively few new concepts when reviewing the code. 

## Implementation
`ready4` provides a simple syntax that can be consistently applied across multiple types of mental health computational modelling projects. It does so by taking advantage of the [polymorphism and abstraction features of Object Oriented Programing](V_03.html) and R's use of generic functions. Generic functions don't obviously do anything by themselves - their most salient features are a name and a high level description of the type of task that any method using that name should perform. Whenever a method is defined for [classes using R's S4 and S3 systems (the types used for ready4 framework modules and sub-modules)](V_01.html), it is assigned to the generic that is the best match for the algorithm it implements.

## Finding ready4 Framework Methods
To generate a table that summarises the syntax used to implement `ready4` methods, use the `make_methods_tb` function.

```{r warning=F}
x <- make_methods_tb()
```
### Core generics
A HTML table of the core generics bundled with `ready4` and examples of methods that implement each generic can be displayed using the `print_methods` function, using the `return_1L_chr = "core"` argument. This table returns the generic / method name, the purpose of each method.

```{r}
print_methods(x,
              return_1L_chr = "core")
```

### Slot methods
Each of the "core" methods also has a "slot" version. This is a method that applies the corresponding core method to a specified slot of a class. Two of these "slot" versions have additional purposes.

 - [procureSlot](/reference/procureSlot-methods.html) is a "getter" method - its default behaviour is to return the value of a specified slot. To instead use a call to `procureSlot` to apply the `procure` method to a specified slot, the argument `use_procure_mthd_1L_lgl = T` must be included in the method call.
 
 - [renewSlot](/reference/procureSlot-methods.html) is a "setter" method - if any value other than "use_renew_mthd" (the default) is passed to the `new_val_xx` argument, that value will be assigned to the specified slot.
 
A HTML table of the slot generics bundled with `ready4` can be displayed using the `print_methods` function, using the `return_1L_chr = "slot"` argument.
```{r}
print_methods(x,
              return_1L_chr = "slot")
```

### Extended `author` methods
Finally, there are a small number of other generics that are more general extensions of the core functions. Currently, these extended methods are all variants on the `author` method, with each specifying the type of output to be authored by the method. A HTML table of the extended generics bundled with `ready4` can be displayed using the `print_methods` function, using the `return_1L_chr = "extended"` argument.

```{r}
print_methods(x,
              exclude_mthds_for_chr = "Ready4Module",
              return_1L_chr = "extended")
```

## Ready4Module Methods

```{r}
get_methods()
```
